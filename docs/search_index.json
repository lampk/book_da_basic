[
["index.html", "Phân tích số liệu cơ bản Lời nói đầu 0.1 Nội dung dự kiến 0.2 Dữ liệu sử dụng trong sách", " Phân tích số liệu cơ bản Phùng Khánh Lâm, Ong Phúc Thịnh 2019-07-19 Lời nói đầu Test 0.1 Nội dung dự kiến Vì sao có cuốn sách này? Mục tiêu Đối tượng Phương pháp: Lý thuyết kết hợp với ví dụ thực tế Thực hành: R commander Đóng góp của nhóm tác giả 0.2 Dữ liệu sử dụng trong sách Để minh hoạ cho các nội dung được trình bày, chúng tôi sử dụng các ví dụ thực tế, được phân tích bằng phần mềm R, trên bộ dữ liệu của một đoàn hệ tiền cứu trên trẻ nhập viện với chẩn đoán lâm sàng là sốt xuất huyết tại Bệnh viện Bệnh Nhiệt đới TP HCM từ năm 2001 đến năm 2009. Bộ dữ liệu này được công bố cùng với bài báo trình bày kết quả phân tích của nghiên cứu này (Lam et al. 2017). Truy cập website của bài báo https://journals.plos.org/plosntds/article?id=10.1371/journal.pntd.0005498 để tải về bộ dữ liệu này. References "],
["intro.html", "Chương 1 Giới thiệu về phân tích dữ liệu 1.1 Vì sao phải quan tâm đến phân tích dữ liệu 1.2 Các giai đoạn trong quá trình phân tích dữ liệu 1.3 Một số khái niệm 1.4 Example", " Chương 1 Giới thiệu về phân tích dữ liệu 1.1 Vì sao phải quan tâm đến phân tích dữ liệu 1.2 Các giai đoạn trong quá trình phân tích dữ liệu Phân tích dữ liệu có thể được chia làm hai giai đoạn chính: Giai đoạn ban đầu: bao gồm hai giai đoạn nhỏ: Kiểm tra và làm sạch số liệu Chuẩn bị dữ liệu cho phân tích Giai đoạn phân tích thực sự 1.3 Một số khái niệm 1.3.1 Bảng dữ liệu Bảng dữ liệu (dataset) là một bảng được tạo thành từ nhiều giá trị (value). Mỗi giá trị thuộc về một biến số (variable) và một đơn vị quan sát (observation unit). Các giá trị trong cùng một biến số phải có cùng thuộc tính (attribute). Một bảng dữ liệu điển hình có cấu trúc như sau gọi là bảng dữ liệu gọn gàng (tidy data). Bảng 1.1: Ví dụ về bảng dữ liệu id ngaysinh ngaync gioitinh hct0 cannang_kg 001 2013-05-08 NA Nam 49 10 002 2018-12-03 2018-02-03 Nữ 250 50 003 2013-12-20 2018-12-13 Nam 50 20 003 2013-12-20 2018-12-13 Nam 50 20 Trong bảng dữ liệu gọn gàng, mỗi cột (column) là một biến số. Ví dụ trong bảng trên ta thấy ngaysinh, gioitinh là các biến số. Các giá trị nằm trong cùng một biến số có cùng thuộc tính, ví dụ các giá trị trong biến gioitinh có cùng thuộc tính là chuỗi ký tự, hoặc biến cân nặng chỉ gồm các giá trị là số. Mỗi hàng ngang (row) là một đơn vị quan sát. Các đơn vị quan sát thường được đánh số hoặc gán mã định danh để dễ dàng phân biệt với nhau. Mã số này được chứa trong một biến số và thường là biến đầu tiên. Trong bảng ví dụ trên, đơn vị quan sát thứ nhất có mã số 001, đơn vị quan sát thứ hai có mã số 002. 1.3.2 Biến số 1.3.2.1 Phân loại biến số Có nhiều cách phân loại biến số khác nhau, cách phân loại sau đây thường được trình bày và ứng dụng trong thực tế. Nhị giá: biến số có 2 giá trị (VD: biến tử vong gồm 2 giá trị là sống/chết) Phân nhóm: có &gt;2 giá trị, không có thứ tự (VD: biến quốc gia có thể có các giá trị Việt Nam, Lào, Thái Lan…) Thứ tự: các giá trị có thứ tự (VD: nhóm tuổi (từ 18-25, 25-45, trên 45), mức độ hài lòng (không hài lòng, trung bình, rất hài lòng)) Liên tục: có thang đo và đơn vị (VD: tuổi) 1.3.2.2 Mã hóa biến số Biến số phân nhóm: Thường được mã hoá thành con số, ví dụ mã hóa các giá trị của biến quốc gia dưới dạng Việt Nam = 1, Lào = 2, Thái Lan = 3. Tuy nhiên, điều đó không biến chúng thành biến số liên tục. Ta không thể thực hiện các phép tính toán trên biến số mã hóa này, như 1 + 2 = 3, nhưng trong ví dụ trên thì Việt Nam + Lào không thể = Thái Lan. Dữ liệu bị thiếu: Thường được mã hoá riêng, một cách phổ biến là mã hóa một giá trị lớn bất thường (9999) cho dữ liệu bị thiếu khi thu thập. Trong phân tích mô tả, cần mô tả số lượng dữ liệu bị thiếu cho từng biến số. Dữ liệu bị thiếu thường bị loại ra khỏi phân tích (do người thực hiện, hoặc do phần mềm phân tích), do đó nếu không tiến hành mô tả số lượng dữ liệu bị thiếu trước khi phân tích thì kết quả phân tích có thể bị sai lệch hoặc bị hiểu nhầm. 1.3.2.3 Lựa chọn biến số cho phân tích Trong bảng dữ liệu có thể bao gồm rất nhiều biến số, tuy nhiên không phải bất cứ biến số nào cũng có giá trị và nên đưa vào phân tích. Cần lựa chọn những biến số quan trọng dựa trên một kế hoạch phân tích đã lập ra từ trước. Biến số chính Được xác định dựa vào câu hỏi nghiên cứu hay giả thuyết nghiên cứu. Các biến số chính thường được chia thành biến số độc lập và biến số phụ thuộc. Biến số độc lập (independent variable): là những biến số thể hiện yếu tố có mối liên quan (association) hay là nguyên nhân (causation) của kết cuộc quan tâm trong nghiên cứu. Biến số phụ thuộc (dependent variable), còn gọi là biến số kết cuộc (outcome): là biến số thể hiện kết cuộc quan tâm trong nghiên cứu. Các yếu tố gây nhiễu Yếu tố gây nhiễu là các yếu tố vừa tác động lên biến số phụ thuộc, vừa có tác động lên biến số độc lập. Việc xác định yếu tố gây nhiễu cần phải dựa vào y văn hoặc kiến thức chuyên ngành. Nếu vấn đề nghiên cứu là vấn đề rất mới thì có thể dựa vào bộ dữ liệu sẵn có để xác định những yếu tố gây nhiễu tiềm năng. Số lượng biến số thường bị giới hạn bởi cỡ mẫu và đặc điểm của biến số phụ thuộc. Vì vậy không nên chọn các biến số đưa vào phân tích một cách tùy tiện, tràn lan mà nên chọn theo kế hoạch đã xác định từ ban đâu và luôn tập trung vào câu hỏi hay giả thuyết nguyên cứu để quyết định có nên đưa một biến nào đó vào phân tích hay không. 1.3.3 Phân phối thống kê Phân phối thống kê là sự mô tả các giá trị có thể có của một biến số, đi kèm với tần suất hay khả năng xuất hiện của mỗi giá trị. Ví dụ trên thể hiện phân phối của biến dung tích hồng cầu (Hct). Biến này có thể có các giá trị từ 38% đến 52%, trong đó tần suất để dung tích hồng cầu là 44-46% là lớn nhất, tần suất của một giá trị được thể hiện bằng độ cao của các cột trong biểu đồ. Biểu đồ phân phối của biến dung tích hồng cầu cũng là một ví dụ điển hình của phân phối bình thường (normal distribution) rất phổ biến và thường được nhắc đến trong thống kê. Phân phối bình thường có các đặc tính đặc trưng về mặt toán học (trung bình, độ lệch chuẩn) và là cơ sở của rất nhiều các phép kiểm định, mô hình thống kê. 1.4 Example You can label chapter and section titles using {#label} after them, e.g., we can reference Chapter 1. If you do not manually label them, there will be automatic labels anyway, e.g., Chapter ??. Figures and tables with captions will be placed in figure and table environments, respectively. par(mar = c(4, 4, .1, .1)) plot(pressure, type = &#39;b&#39;, pch = 19) Hình 1.1: Here is a nice figure! Reference a figure by its code chunk label with the fig: prefix, e.g., see Figure 1.1. Similarly, you can reference tables generated from knitr::kable(), e.g., see Table 1.2. knitr::kable( head(iris, 20), caption = &#39;Here is a nice table!&#39;, booktabs = TRUE ) Bảng 1.2: Here is a nice table! Sepal.Length Sepal.Width Petal.Length Petal.Width Species 5.1 3.5 1.4 0.2 setosa 4.9 3.0 1.4 0.2 setosa 4.7 3.2 1.3 0.2 setosa 4.6 3.1 1.5 0.2 setosa 5.0 3.6 1.4 0.2 setosa 5.4 3.9 1.7 0.4 setosa 4.6 3.4 1.4 0.3 setosa 5.0 3.4 1.5 0.2 setosa 4.4 2.9 1.4 0.2 setosa 4.9 3.1 1.5 0.1 setosa 5.4 3.7 1.5 0.2 setosa 4.8 3.4 1.6 0.2 setosa 4.8 3.0 1.4 0.1 setosa 4.3 3.0 1.1 0.1 setosa 5.8 4.0 1.2 0.2 setosa 5.7 4.4 1.5 0.4 setosa 5.4 3.9 1.3 0.4 setosa 5.1 3.5 1.4 0.3 setosa 5.7 3.8 1.7 0.3 setosa 5.1 3.8 1.5 0.3 setosa You can write citations, too. For example, we are using the bookdown package (Xie 2019) in this sample book, which was built on top of R Markdown and knitr (???). References "],
["datacleaning.html", "Chương 2 Kiểm tra và làm sạch dữ liệu 2.1 Các nhóm lỗi dữ liệu thường gặp 2.2 Phương pháp phát hiện lỗi 2.3 Quy trình kiểm tra và làm sạch dữ liệu 2.4 Tai lieu tham khao", " Chương 2 Kiểm tra và làm sạch dữ liệu Đây là bước đầu tiên nên được thực hiện khi nhận được một bộ số liệu, với mục tiêu là xây dựng được bộ số liệu sạch cho phân tích. Sai sót hoặc dữ liệu bất thường rất thường gặp. Những sai sót này có thể bắt nguồn từ những sai sót trong quá trình thu thập dữ liệu và/hoặc quá trình nhập liệu. Một số lỗi có thể tình cờ phát hiện được trong khi phân tích, nhưng nhiều trường hợp không thể dễ dàng phát hiện và sẽ ảnh hưởng đến kết quả phân tích, thậm chí dẫn đến các sai sót trầm trọng. Vì vậy trước khi phân tích cần phải kiểm tra tính chính xác của số liệu để đảm bảo kết quả phân tích là chính xác nhất có thể. Bảng 2.1: Dữ liệu chưa được làm sạch id ngaysinh ngaync gioitinh hct0 cannang_kg 001 2013-05-08 NA 1 49 10 002 2018-12-03 2018-02-03 Nữ 250 50 003 2013-12-20 2018-12-13 Nam 50 20 003 2013-12-20 2018-12-13 Nam 50 20 2.1 Các nhóm lỗi dữ liệu thường gặp Rất nhiều lỗi khác nhau có thể gặp trong dữ liệu. Tuy nhiên, có thể tóm lại thành 4 nhóm lỗi thường gặp chính: Dữ liệu bị thiếu/mất (missing data): khi không có dữ liệu như mong đợi, có thể do trục trặc khi thu thập dữ liệu (đối tượng nghiên cứu bỏ nghiên cứu giữa chừng/không cung cấp thông tin, nghiên cứu viên quên thu thập thông tin) hoặc khi nhập liệu (nhập liệu sót, đặc biệt với phiếu thu thập thông tin dạng nhảy câu). Trong bộ dữ liệu, dữ liệu bị thiếu/mất thường được thể hiện bằng khoảng trắng (blank) hoặc giá trị NA (not available), ví dụ như ở biến số ngaync của đối tượng 001 trong Bảng 2.1. Dữ liệu bị lặp lại (duplicated data): khi dữ liệu từ một hay nhiều đối tượng bị lặp lại một hay nhiều lần, thường do sai sót trong quá trình nhập liệu. Trong bộ dữ liệu, dữ liệu bị lặp lại thể hiện bằng việc một hay nhiều hàng dữ liệu bị lặp lại. Ví dụ như trong Bảng 2.1, dữ liệu của đối tượng 003 bị lặp lại thêm một lần. Giá trị không hợp lý (out-of-range/inappropriate data): khi dữ liệu có giá trị nằm ngoài giới hạn thông thường (quá lớn hay quá bé, gặp ở các biến số liên tục) hoặc ngoài các giá trị cho phép (gặp ở các biến số phân nhóm) hoặc không phù hợp với thuộc tính của biến số (lẽ ra là giá trị số nhưng dữ liệu được nhập lại là chữ hoặc ngược lại). Đây có thể là lỗi trong quá trình thu thập dữ liệu hoặc khi nhập liệu. Ví dụ như trong Bảng 2.1, dữ liệu về gioitinh của đối tượng 001 được ghi nhận là 1, trong khi đây là biến số về giới tính, vốn chỉ có hai giá trị Nữ hoặc Nam. Không tương hợp giữa các biến số (inconsistent data): khi dữ liệu có giá trị không phù hợp trong mối tương quan với các biến số khác trong bộ dữ liệu. Đây có thể là lỗi trong quá trình thu thập dữ liệu hoặc khi nhập liệu. Lỗi này khó phát hiện hơn so với các lỗi còn lại. Ví dụ như trong Bảng 2.1, đối tượng 002 có ngaync (ngày vào nghiên cứu) là 2018-02-03 (ngày 03 tháng 02 năm 2018) trong khi ngaysinh (ngày sinh) lại là 2018-12-03 (ngày 03 tháng 12 năm 2018), nghĩa là đối tượng tham gia nghiên cứu trước khi sinh. 2.2 Phương pháp phát hiện lỗi Để phát hiện các lỗi đã nêu trên, chúng ta có thể sử dụng các công cụ của thống kê mô tả, qua các chỉ số thống kê mô tả và/hoặc các biểu đồ. 2.2.1 Dữ liệu bị thiếu/mất Được phát hiện bằng cách mô tả số giá trị có trong bộ dữ liệu và so sánh với số giá trị mong đợi. Hiện nay, các phần mềm thống kê đều cho phép mô tả số giá trị bị thiếu/mất, nếu các giá trị này được mã hoá ở dạng mà các phần mềm thống kê hiểu (khoảng trắng, hoặc NA đối với R). Nếu trong giai đoạn nhập liệu, giá trị bị thiếu/mất được mã hoá theo cách khác (điền vào một giá trị nào đó, ví dụ 9, 99, 999) thì trước khi dùng phần mềm thống kê để mô tả dữ liệu, cần định dạng dữ liệu về dạng mà phần mềm thống kê hiểu. Ở ví dụ về bộ dữ liệu trong Bảng 2.1, bằng phần mềm R, chúng ta có thể dùng lệnh summary() để mô tả dữ liệu. Kết quả được trình bày dưới đây cho thấy có một giá trị bị thiếu/mất (NA) ở biến số ngaync. summary(dat) ## id ngaysinh ngaync gioitinh hct0 ## 001:1 2013-05-08:1 2018-02-03:1 1 :1 Min. : 49.00 ## 002:1 2013-12-20:2 2018-12-13:2 Nam:2 1st Qu.: 49.75 ## 003:2 2018-12-03:1 NA&#39;s :1 Nữ :1 Median : 50.00 ## Mean : 99.75 ## 3rd Qu.:100.00 ## Max. :250.00 ## cannang_kg ## Min. :10.0 ## 1st Qu.:17.5 ## Median :20.0 ## Mean :25.0 ## 3rd Qu.:27.5 ## Max. :50.0 2.2.2 Dữ liệu bị lặp lại Được phát hiện bằng cách mô tả số giá trị có trong bộ dữ liệu và so sánh với số giá trị mong đợi. Lỗi này cũng có thể phát hiện bằng mắt thường khi đã xếp dữ liệu theo thứ tự của mã số nghiên cứu, hoặc mô tả biến số mã số nghiên cứu (xem số giá trị mã số nghiên cứu khác nhau). Ngoài ra, một số phần mềm thống kê có thể có câu lệnh để kiểm tra dữ liệu bị lặp lại. Ở ví dụ về bộ dữ liệu trong Bảng 2.1, bằng phần mềm R, chúng ta có thể dùng các cách sau: Kiểm tra số hàng của bộ dữ liệu nrow(dat) ## [1] 4 Có 3 đối tượng nhưng bộ dữ liệu có 4 hàng. Mô tả biến số mã số nghiên cứu (ví dụ dùng lệnh describe() trong package Hmisc) Hmisc::describe(dat$id) ## dat$id ## n missing distinct ## 4 0 3 ## ## Value 1 2 3 ## Frequency 1 1 2 ## Proportion 0.25 0.25 0.50 Biến số id (mã số nghiên cứu) có 4 giá trị, nhưng chỉ có 3 giá trị khác nhau (nghĩa là có một giá trị bị lặp lại). Kiểm tra số đối tượng nghiên cứu bằng cách kiểm tra số giá trị mã số nghiên cứu khác nhau length(dat$id) ## [1] 4 length(unique(dat$id)) ## [1] 3 Biến số id (mã số nghiên cứu) có 4 giá trị, nhưng chỉ có 3 giá trị khác nhau (nghĩa là có một giá trị bị lặp lại). Kiểm tra dữ liệu lặp lại bằng lệnh anyDuplicated hoặc duplicated anyDuplicated(dat) ## [1] 4 duplicated(dat) ## [1] FALSE FALSE FALSE TRUE Dữ liệu ở hàng thứ 4 trong bộ dữ liệu dat là dữ liệu lặp lại. 2.2.3 Giá trị không hợp lý Được phát hiện bằng cách mô tả tất cả các giá trị trong biến số bằng các chỉ số hoặc biểu đồ, từ đó tìm ra các giá trị khác biệt so với các giá trị còn lại của biến số. Ở ví dụ về bộ dữ liệu trong Bảng 2.1, bằng phần mềm R, chúng ta có thể dùng các cách sau: Mô tả các giá trị khác nhau của biến số bằng lệnh unique() hoặc table() (chỉ thích hợp với biến số có ít giá trị khác nhau, ví dụ biến số phân nhóm) unique(dat$gioitinh) ## [1] 1 Nữ Nam ## Levels: 1 Nam Nữ table(dat$gioitinh) ## ## 1 Nam Nữ ## 1 2 1 Biến số gioitinh (giới tính) có 3 giá trị: 1, Nữ, Nam; trong đó giá trị 1 không phù hợp. Mô tả khoảng giá trị, giá trị nhỏ nhất, giá trị lớn nhất để tìm các giá trị quá lớn hoặc quá bé so với mong đợi summary(dat$hct0) ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 49.00 49.75 50.00 99.75 100.00 250.00 range(dat$hct0) ## [1] 49 250 min(dat$hct0) ## [1] 49 max(dat$hct0) ## [1] 250 Biến số hct0 (dung tích hồng cầu ở thời điểm lúc mới vào nghiên cứu) có khoảng giá trị từ 49% (giá trị nhỏ nhất) đến 250% (giá trị lớn nhất), trong đó giá trị 250 là không phù hợp với giá trị mong đợi của dung tích hồng cầu. Mô tả giá trị bằng biểu đồ cột (với biến số phân nhóm) barplot(table(dat$gioitinh)) Biến số gioitinh có giá trị 1, không phù hợp với các giá trị còn lại. Mô tả giá trị bằng histogram hoặc boxplot (với biến số liên tục) hist(dat$hct0) boxplot(dat$hct0) Biến số hct0 có giá trị 250, rất khác biệt so với các giá trị còn lại và nằm ngoài khoảng giá trị mong đợi cho dung tích hồng cầu. 2.2.4 Không tương hợp giữa các biến số Được phát hiện bằng cách mô tả biến số thứ cấp tạo ra từ các biến số liên quan, hoặc dùng biểu đồ mô tả mối liên hệ giữa hai biến số với nhau. Ở ví dụ về bộ dữ liệu trong Bảng 2.1, bằng phần mềm R, chúng ta có thể dùng các cách sau: Mô tả biến số thứ cấp: ví dụ mô tả biến số tuoi (tuổi lúc vào nghiên cứu), được tính từ biến số ngaysinh và ngaync dat$tuoi &lt;- as.numeric(difftime(as.Date(dat$ngaync), as.Date(dat$ngaysinh), units = &quot;days&quot;)) summary(dat$tuoi) ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA&#39;s ## -303 758 1819 1112 1819 1819 1 boxplot(dat$tuoi) Có một trường hợp tuoi (tuổi lúc vào nghiên cứu) &lt; 0. Dùng biểu đồ mô tả mối liên hệ giữa hai biến số ngaysinh và ngaync ## phân tán đồ (scatterplot) của ngaysinh và ngaync plot(x = as.Date(dat$ngaysinh), y = as.Date(dat$ngaync)) ## đường thẳng qua các điểm ngaysinh bằng ngaync abline(a = 0, b = 1) Có một trường hợp ngaync nhỏ hơn ngaysinh (nằm phía dưới đường thẳng đi qua các giá trị ngaync bằng ngaysinh) trong khi mong đợi ngaync phải lớn hơn ngaysinh (đối tượng phải được sinh ra trước khi vào nghiên cứu). 2.3 Quy trình kiểm tra và làm sạch dữ liệu Để phát hiện và loại bỏ tối đa các sai sót có thể có nhằm có được bộ dữ liệu sạch và đáng tin cậy cho phân tích, chúng ta cần kiểm tra và làm sạch dữ liệu một cách có hệ thống theo 3 bước như sau: 2.3.1 Tìm lỗi Dựa vào các phương pháp thống kê mô tả (sử dụng chỉ số và/hoặc biểu đồ, như đã trình bày ở mục 2.2) để tìm các lỗi thường gặp (như đã trình bày ở mục 2.1). Các lỗi tìm thấy nên được tổng hợp lại trong một file dữ liệu trước khi tiến hành bước tiếp theo. File dữ liệu này nên bao gồm các thông tin sau: Lỗi tìm thấy là gì? (loại lỗi) Lỗi ở đâu? (biến số liên quan, mã số nghiên cứu liên quan) 2.3.2 Chẩn đoán lỗi Trong bước này, chúng ta sẽ dựa vào kiến thức chuyên môn và hiểu biết về nghiên cứu và quá trình thu thập dữ liệu - nhập liệu trong nghiên cứu để đánh giá xem các lỗi tìm thấy trong dữ liệu có thực sự là lỗi hay không. Khi đánh giá, cần đối chiếu với dữ liệu gốc (dữ liệu thu thập trên phiếu thu thập bằng giấy) nếu có. Sau khi đánh giá, các lỗi này có thể được phân loại thành: Lỗi thực sự Không phải lỗi (chỉ là giá trị hiếm gặp) Không chắc: không thể xác định có phải là lỗi không dựa vào các thông tin hiện có 2.3.3 Sửa lỗi (làm sạch dữ liệu) Tùy theo phân loại ở bước chẩn đoán lỗi, chúng ta sẽ có cách sửa lỗi phù hợp: Lỗi thực sự: sửa lại thành giá trị đúng (nếu có cơ sở cho giá trị đúng, ví dụ như giá trị gốc được lưu trên giấy) hoặc xoá hẳn giá trị sai (nếu không thể xác định được giá trị đúng). Không phải lỗi: giữ nguyên, không thay đổi giá trị trong dữ liệu. Không chắc: cân nhắc giữa giữ nguyên và xoá hẳn giá trị này. Các bước trên và mọi thay đổi trong bộ dữ liệu nên được ghi nhận lại với các thông tin như: Lỗi tìm thấy là gì? (loại lỗi) Lỗi ở đâu? (biến số liên quan, mã số nghiên cứu liên quan) Chẩn đoán lỗi là gì? Người chẩn đoán lỗi? Quyết định đưa ra với lỗi? Người đưa ra quyết định? Nếu có sửa lỗi thì giá trị cũ là gì, giá trị mới là gì? người sửa lỗi? ngày sửa lỗi? Vấn đề này đặc biệt quan trọng khi làm việc trong một nhóm và nhằm đảm bảo tính minh bạch và rõ ràng trong quản lý dữ liệu. Một ví dụ về file dữ liệu ghi nhận các bước liên quan đến việc kiểm tra và làm sạch dữ liệu như sau: Hình 2.1: File ghi nhận việc kiểm tra và làm sạch dữ liệu 2.4 Tai lieu tham khao Tham khao them cac tai lieu sau: Sach: Der Loo &amp; Edwin de Jonge (2018), Osborne (2013), Den Broeck &amp; Jonathan R Brestoff (2013) (chapter 20: Data cleaning), Iris Pigeot (2013) (chapter 27: Data Management in Epidemiology), Macfarlane (2019), Wayne P. Johnson (2014), Prokscha (2011), Theodore Johnson (2003), Tukey (1977), Huber (2011), Chatfield (1988), Shoba Ranganathan (2018) Bai bao: Jan Van den Broeck (2005), Willi Sauerbrei (2014), Willi Sauerbrei Gary S. CollinsM. H. and STRATOS initiative (2017), Willi Sauerbrei Marianne HuebnerG. S. C. and STRATOS initiative (2017), Marianne Huebner (2016), Marianne Huebner (2018), Carsten Oliver Schmidt (2018) References "],
["chun-bi-d-liu-cho-phan-tich.html", "Chương 3 Chuẩn bị dữ liệu cho phân tích 3.1 Tạo thêm biến số mới 3.2 Định dạng biến số 3.3 Chuyển dạng dữ liệu cho phù hợp với phân tích 3.4 Bảng dữ liệu gọn gàng (tidy data)", " Chương 3 Chuẩn bị dữ liệu cho phân tích Dữ liệu sau khi làm sạch có thể chưa phân tích được ngay, mà cần phải biến đổi để phù hợp với mục tiêu và kỹ thuật phân tích. 3.1 Tạo thêm biến số mới Tạo thêm biến số mới dựa trên các biến số sẵn có: Ví dụ thu thập ngày tháng năm sinh, cần tạo thêm biến số là tuổi; hoặc thu thập cân nặng và chiều cao, cần tạo thêm biến BMI để phân tích. 3.2 Định dạng biến số (phần này em không chắc là trình bày nội dung gì) 3.3 Chuyển dạng dữ liệu cho phù hợp với phân tích 3.3.1 Kết hợp các bảng dữ liệu với nhau Dữ liệu có thể nằm ở nhiều tập tin khác nhau hoặc do nhiều người nhập liệu, cần phải ghép lại thành một bảng dữ liệu hoàn chỉnh để có đầy đủ thông tin phục vụ cho việc phân tích. 3.3.2 Dữ liệu dạng dài hay dạng rộng Ví dụ ta có bảng dữ liệu như sau gồm 4 cột: Ví dụ về dữ liệu dạng rộng Ta có thể biến đổi dữ liệu từ có 4 cột này thành chỉ có 2 cột như sau: Ví dụ về dữ liệu dạng dài Các giá trị trong cột Method là nosmote_gbm, smote_gbm, nosmote_normalized_gbm, smote_normalized_gbm chính là tên của 4 cột ban đầu. Giá trị trong cột Value là những con số tương ứng với mỗi phương pháp trong Method. Việc biến đổi này không làm mất đi thông tin trong bộ dữ liệu mà chỉ làm thay đổi hình dạng trình bày thông tin. Dữ liệu to bè theo chiều ngang (gồm nhiều cột) gọi là dữ liệu dạng rộng (wide format). Dữ liệu sau khi biến đổi chỉ có 2 cột nhưng sẽ kéo dài xuống thành rất nhiều dòng gọi là dữ liệu dạng dài (long format). 3.4 Bảng dữ liệu gọn gàng (tidy data) Một bảng dữ liệu điển hình có cấu trúc như sau gọi là bảng dữ liệu gọn gàng (tidy data). Bảng 3.1: Ví dụ về bảng dữ liệu id ngaysinh ngaync gioitinh hct0 cannang_kg 001 2013-05-08 NA Nam 49 10 002 2018-12-03 2018-02-03 Nữ 250 50 003 2013-12-20 2018-12-13 Nam 50 20 003 2013-12-20 2018-12-13 Nam 50 20 Trong bảng dữ liệu gọn gàng, mỗi cột (column) là một biến số. Ví dụ trong bảng trên ta thấy ngaysinh, gioitinh là các biến số. Các giá trị nằm trong cùng một biến số có cùng thuộc tính, ví dụ các giá trị trong biến gioitinh có cùng thuộc tính là chuỗi ký tự, hoặc biến cân nặng chỉ gồm các giá trị là số. Mỗi hàng ngang (row) là một đơn vị quan sát. Các đơn vị quan sát thường được đánh số hoặc gán mã định danh để dễ dàng phân biệt với nhau. Mã số này được chứa trong một biến số và thường là biến đầu tiên. Trong bảng ví dụ trên, đơn vị quan sát thứ nhất có mã số 001, đơn vị quan sát thứ hai có mã số 002. "],
["phan-tich-mo-ta.html", "Chương 4 Phân tích mô tả 4.1 Vì sao phải thực hiện phân tích mô tả? 4.2 Nhắc lại về phân phối xác suất 4.3 Mô tả biến số phân nhóm 4.4 Mô tả biến số liên tục 4.5 Phân phối chuẩn hay không chuẩn?", " Chương 4 Phân tích mô tả 4.1 Vì sao phải thực hiện phân tích mô tả? Phân tích mô tả là bước phân tích đầu tiên và quan trọng trong mỗi phân tích, nhằm mục tiêu mô tả một cách đầy đủ, trung thực và súc tích về bộ dữ liệu đang có. Mặc dù phân tích mô tả thường bị xem nhẹ, việc thực hiện giai đoạn phân tích này đem lại những ứng dụng to lớn: Kiểm tra dữ liệu: các công cụ của thống kê mô tả (các chỉ số thống kê, biểu đồ) được sử dụng rất hữu hiệu để kiểm tra và làm sạch dữ liệu (xem thêm Chương 2). Hiểu dữ liệu: chúng ta cần hiểu dữ liệu của mình trước khi tiến hành phân tích chính thức. Các phân tích mô tả tuy đơn giản nhưng có thể giúp cung cấp thông tin quan trọng về dữ liệu một cách nhanh chóng, giúp chúng ta hiểu hơn về bộ dữ liệu mà mình đang phân tích. Lựa chọn hướng phân tích và phương pháp phân tích phù hợp: thống kê mô tả thường được dùng để đánh giá sự phù hợp của các giả định về dữ liệu (ví dụ như phân phối của các biến số), từ đó góp phần định hướng phương pháp phân tích phù hợp. 4.2 Nhắc lại về phân phối xác suất Vì trọng tâm của phân tích mô tả là mô tả các biến số trong bộ dữ liệu, cụ thể hơn là phân phối của các biến số đó, nên phân phối xác suất (probability distribution, probability density) là một khái niệm cần được làm rõ. Phân phối xác suất của một biến số là một công thức toán học mô tả xác suất xuất hiện của từng giá trị biến số (với biến số rời rạc) hoặc của từng khoảng giá trị biến số (với biến số liên tục) (A. Skrondal 2010). Phối phối xác suất này có thể được biểu diễn bằng biểu đồ, và qua biểu đồ này chúng ta có thể thấy được các giá trị có thể có của một biến số, cùng với tần suất hay khả năng xuất hiện của mỗi giá trị đó. Dưới đây là một ví dụ về phân phối xác suất của biến số về số lượng tiểu cầu trong máu, trong bộ dữ liệu mẫu: hist(baseline$plt/1000, xlab = &quot;Số lượng tiểu cầu (1000/mm3)&quot;, ylab = &quot;Tần số&quot;, main = NULL) Hình 4.1: Phân phối xác suất của số lượng tiểu cầu trong máu ở bộ dữ liệu mẫu Vì số lượng tiểu cầu là biến số liên tục, giá trị của biến số này được chia thành những khoảng bằng nhau nhỏ hơn và tần số của mỗi khoảng giá trị được thể hiện bằng độ cao của các cột trong biểu đồ. Trong ví dụ trên có thể thấy, số lượng tiểu cầu trong máu của các đối tượng tham gia nghiên cứu dao động từ 0 đến khoảng 400,000/mm3. Trong đó, thường gặp nhất là khoảng giá trị từ 100,000 đến 150,000/mm3. 4.2.1 Phân phối bình thường Trong các phân phối xác suất, phân phối bình thường (normal distribution hay Gaussian distribution), hay được gọi là phân phối chuẩn, là phân phối xác suất thường được nhắc đến trong các phân tích thống kê. Với một biến số ngẫu nhiên \\(X\\), nếu biến số này có phân phối bình thường, xác suất xuất hiện \\(f(x)\\) cho giá trị \\(x\\) của biến số đó được tính như sau (A. Skrondal 2010): \\[ f(x) = \\frac{1}{\\sigma \\sqrt{2\\pi}} \\left[-\\frac{(x - \\mu)^2}{2\\sigma^2}\\right] \\] Trong đó \\(\\mu\\) và \\(\\sigma\\) lần lượt là trung bình và độ lệch chuẩn của \\(X\\). Về hình dạng, phân phối bình thường có hình dạng đặc trưng là hình chuông úp (bell-shape), cân xứng hai bên với đỉnh là giá trị trung bình. Hình minh hoạ dưới đây là phân phối của số lượng tiểu cầu, với 100,000 giá trị đo được lấy ngẫu nhiên từ một phân phối bình thường với trung bình là 134,000/mm3 và độ lệch chuẩn là 61,000/mm3: set.seed(100) pltran &lt;- rnorm(n = 100000, mean = 134, sd = 61) hist(pltran, xlab = &quot;Số lượng tiểu cầu (1000/mm3)&quot;, ylab = &quot;Tần số&quot;, main = NULL) Hình 4.2: Phân phối xác suất của số lượng tiểu cầu được giả lập từ phân phối bình thường Lưu ý vì đây chỉ đơn thuần là số liệu giả lập dựa trên công thức phân phối xác suất bình thường với trung bình là 134,000/mm3 và độ lệch chuẩn là 61,000/mm3 cho mục đích minh hoạ, có một số giá trị nằm trong khoảng -100 đến 0, vốn không thể xảy ra trong thực tế. Phân phối bình thường được biết đến rộng rãi và rất quan trọng trong thống kê vì những lý do sau: Đơn giản về toán học: chỉ cần hai thông số là trung bình và độ lệch chuẩn, chúng ta có thể mô tả được toàn bộ phân phối. Là cơ sở của rất nhiều các phương pháp thống kê, thông qua định lý giới hạn trung tâm (Central Limit Theorem), với nội dung chính là nếu một biến số ngẫu nhiên \\(Y\\) có trung bình trong dân số là \\(\\mu\\) và độ lệch chuẩn trong dân số là \\(\\sigma\\) thì giá trị trung bình \\(\\bar{y}\\), trong một mẫu gồm \\(n\\) đối tượng, sẽ có phân phối xấp xỉ phân phối bình thường với trung bình \\(\\mu\\) và độ lệch chuẩn \\(\\frac{\\sigma}{\\sqrt{n}}\\) khi \\(n\\) đủ lớn (A. Skrondal 2010). 4.3 Mô tả biến số phân nhóm 4.3.1 Biểu đồ Biểu đồ cột 4.3.2 Chỉ số Tần số: là số lần xuất hiện của một giá trị. Tỷ lệ phần trăm: là tỷ lệ giữa tần số của một giá trị so với tổng số giá trị. 4.4 Mô tả biến số liên tục 4.4.1 Biểu đồ 4.4.1.1 Histogram Ví dụ ta cần mô tả dữ liệu gồm các giá trị: 1, 5, 2, 3, 4, 3, 4, 2, 3 Khi xếp thứ tự các giá trị này từ nhỏ đến lớn thì ta được như sau: 1, 2, 2, 3, 3, 3, 4, 4, 5 Xếp các giá trị lại thành cột ## 3 ## 2 3 4 ## 1 2 3 4 5 Kết quả thu được từ những bước trên tương ứng với histogram sau 4.4.1.2 Boxplot Dữ liệu nói trên cũng có thể được trình bày thành dạng biểu đồ như sau: 4.4.2 Chỉ số 4.4.2.1 Mô tả vị trí tập trung Trung bình (mean) Được tính bằng cách lấy tổng tất cả các giá trị trong một biến chia cho số lượng giá trị của biến đó. Trung bình thường được thể hiện bằng công thức: \\[\\bar{x} = \\frac{1}{n} \\sum_{i=1}^{n}x_{i}\\] Tối ưu nếu dữ liệu có phân phối tương đối: Đối xứng Không có đuôi quá dài hoặc giá trị ngoại lai (outlier) Hầu hết các mô hình và kiểm định thống kê dựa trên trung bình. Trung vị (median) Là giá trị ở chính giữa của của một biến số liên tục khi sắp xếp theo thứ tự tăng dần. Ví dụ cho một biến số gồm các giá trị 1, 3, 4, 7, 6, 8, 9. Để xác định trung vị, đầu tiên ta sắp xếp các giá trị này theo thứ tự tăng dần như sau: 1, 3, 4, 6, 7, 8, 9 Dễ thấy giá trị ở chính giữa chính là 6. Trong trường hợp số lượng các giá trị là số chẵn, ví dụ: 1, 3, 4, 6, 7, 8, 9, 11 Thì trung vị là giá trị trung bình của hai giá trị ở chính giữa. Cụ thể ở đây là (6+7)/2 = 6.5. Một số tính chất của trung vị: Rất gần trung bình khi dữ liệu có phân phối đối xứng Nhỏ hơn trung bình khi dữ liệu bị lệch về bên phải Vẫn có giá trị khi dữ liệu có giá trị ngoại lai 4.4.2.2 Mô tả độ phân tán Độ lệch chuẩn (standard deviation, SD) Nếu dữ liệu xấp xỉ tuân theo phân phối bình thường (một đỉnh, đối xứng, không nhiều giá trị ngoại lai), thì có thể mô tả dữ liệu bằng độ lệch chuẩn. * ~68% quan sát nằm trong khoảng +/- 1SD * ~95% quan sát nằm trong khoảng +/- 2SD Khoảng tứ phân vị (interquartile range, IQR) Phân vị thấp (Q1): giá trị mà 25% số giá trị quan sát nhỏ hơn Phân vị cao (Q3): giá trị mà 25% số giá trị quan sát lớn hơn 50% số giá trị quan sát nằm trong khoảng từ Q1 đến Q3 Khoảng giá trị Cỡ mẫu rất nhỏ Phụ thuộc vào cỡ mẫu 4.5 Phân phối chuẩn hay không chuẩn? References "],
["kim-inh-gia-thuyt-thng-ke.html", "Chương 5 Kiểm định giả thuyết thống kê 5.1 Nguyên tắc kiểm định thống kê 5.2 Tổng quan về các kiểm định thống kê thường gặp 5.3 Trị số p: ý nghĩa và giá trị 5.4 Mối quan hệ giữa trị số p và khoảng tin cậy", " Chương 5 Kiểm định giả thuyết thống kê 5.1 Nguyên tắc kiểm định thống kê Giả sử ta muốn tìm hiểu mối liên quan giữa độ cô đặc máu (hemoconcentration) và sốc sốt xuất huyết ở đối tượng trẻ em từ 5-15 tuổi nhập viện vì sốt xuất huyết. Nghiên cứu được tiến hành bằng cách chọn 500 bệnh nhân là trẻ em trong lứa tuổi từ 5-15 nhập viện với chẩn đoán sốt xuất huyết và ghi nhận lại độ cô đặc máu. Sau khi theo dõi, số bệnh nhân trong mẫu nghiên cứu được chia thành 2 nhóm là có sốc và không sốc. Trong một nghiên cứu ở bệnh viện A, độ cô đặc máu trung bình của nhóm sốc là 4.93 và của nhóm không sốc là 2.57. Trong một nghiên cứu khác, nhóm nghiên cứu thuộc bệnh viện B lại ghi nhận độ cô đặc máu trung bình của nhóm sốc là 4.22 và của nhóm không sốc là 1.07. Kết quả các nhóm nghiên cứu ở nhiều địa điểm khác nhau được tổng hợp trong bảng sau: Bảng 5.1: Tổng hợp kết quả nghiên cứu ở các bệnh viện bv mau soc kosoc hieuso A 500 4.93 2.57 2.36 B 500 4.22 1.07 3.15 C 500 0.56 3.08 -2.52 D 500 1.14 3.67 -2.53 E 500 2.47 4.18 -1.71 F 500 5.04 3.39 1.65 Nếu không có sự khác biệt về độ cô đặc máu trung bình giữa hai nhóm sốc và không sốc, thì chúng ta có thể kỳ vọng rằng hiệu số giữa giá trị độ cô đặc máu trung bình giữa hai nhóm sẽ bằng 0. Tuy nhiên trên thực tế, do tác động của một số yếu tố khách quan và chủ quan mà nhà nghiên cứu khó có thể kiểm soát được hết, hay còn gọi là các sai số ngẫu nhiên, hiệu số này có thể lớn hơn hoặc nhỏ hơn 0 một chút, nhưng vẫn dao động xung quanh giá trị 0. Xét kết quả nghiên cứu ở bệnh viện A, hiệu số giữa độ cô đặc máu trung bình giữa hai nhóm là 2.35. Các bước tiến hành kiểm định thống kê: Phát biểu giả thuyết vô hiệu (null hypothesis): không có sự khác biệt giữa hai nhóm. Tại sao lại cần phải phát biểu giả thuyết là hai nhóm không có sự khác biệt mà không phải là hai nhóm có khác biệt? Vì chỉ khi phát biểu hai nhóm không có khác biệt, mới có thể biểu diễn phát biểu này dưới dạng biểu thức: Trung bình (nhóm A) = Trung bình (nhóm B) hay: Trung bình (nhóm A) - Trung bình (nhóm B) = 0 Nếu ta chọn phát biểu ban đầu là giữa hai nhóm có sự khác biệt, thì sự khác biệt là bao nhiêu mới đủ lớn? Dựa vào đâu để chọn con số đó? Vì vậy giả thuyết vô hiệu là sự lựa chọn phù hợp cho các tình huống cần so sánh. Nếu null hypothesis là đúng: Xác định test statistic: t statistic Xác định phân phối của test statistic: phân phối t Tính test statistic trong mẫu Tính xác suất kết quả xa hơn test statistic trong mẫu (p) Kết luận p càng nhỏ: null hypothesis càng không phù hợp p càng lớn: null hypothesis càng phù hợp 5.2 Tổng quan về các kiểm định thống kê thường gặp 5.3 Trị số p: ý nghĩa và giá trị 5.4 Mối quan hệ giữa trị số p và khoảng tin cậy "],
["mo-hinh-thng-ke.html", "Chương 6 Mô hình thống kê 6.1 Nội dung dự kiến", " Chương 6 Mô hình thống kê 6.1 Nội dung dự kiến Ước lượng, khoảng ước lượng, khoảng tin cậy Mô hình thống kê là gì? So sánh với kiểm định thống kê Nguyên tắc xây dựng mô hình thống kê Tổng quan các mô hình thống kê thường gặp Cách diễn giải ý nghĩa ước lượng và khoảng ước lượng Cách lập kế hoạch xây dựng mô hình thống kê Cách diễn giải kết quả từ mô hình thống kê Cách lựa chọn mô hình thống kê phù hợp "],
["vit-bao-cao-phan-tich-phan-tich.html", "Chương 7 Viết báo cáo phân tích phân tích 7.1 Nội dung dự kiến", " Chương 7 Viết báo cáo phân tích phân tích 7.1 Nội dung dự kiến Đọc kết quả phân tích như thế nào? Diễn giải kết quả phân tích như thế nào? Những sai lầm thường gặp khi đọc và diễn giải kết quả phân tích? "],
["oc-va-din-giai-kt-qua-phan-tich-lp-k-hoach-phan-tich.html", "Chương 8 Đọc và diễn giải kết quả phân tích, Lập kế hoạch phân tích 8.1 Nội dung dự kiến", " Chương 8 Đọc và diễn giải kết quả phân tích, Lập kế hoạch phân tích 8.1 Nội dung dự kiến Kế hoạch phân tích là gì? Vì sao phải lập kế hoạch phân tích? Lập kế hoạch phân tích như thế nào? WHO-WHAT-WHEN-WHERE-HOW Kế hoạch phân tích mẫu "],
["thu-thp-d-liu.html", "Chương 9 Thu thập dữ liệu 9.1 Nội dung dự kiến", " Chương 9 Thu thập dữ liệu 9.1 Nội dung dự kiến Những điểm càn lưu ý khi thu thập dữ liệu Thu thập dữ liệu như thế nào? WHO-WHAT-WHEN-WHERE-HOW Epidata "],
["tom-tt.html", "Chương 10 Tóm tắt 10.1 Nội dung dự kiến", " Chương 10 Tóm tắt 10.1 Nội dung dự kiến Tóm tắt những điểm chính trong quá trình phân tích dữ liệu "],
["Rcmdr.html", "Chương 11 Giới thiệu về R và R Commander", " Chương 11 Giới thiệu về R và R Commander "],
["uc-tinh-c-mu.html", "Ước tính cỡ mẫu", " Ước tính cỡ mẫu "],
["tai-liu-tham-khao.html", "Tài liệu tham khảo", " Tài liệu tham khảo This book aims to provide tips in doing basic data analysis "]
]
